# üìÑ Code Documentation Generator

---

## üìñ Project Description

The **code_documentation** project is a tool for automatically generating professional-grade README documentation for embedded software and hardware projects. It works by analyzing a Git repository's structure and content, then leveraging to OpenRouter API for a LLM agent to produce a structured and systematized README file based on a predefined set of technical documentation standards.

NOTE: As an example this README was developed using the application, with the qwen3 model. Any other model offered by openRouter API also works.

---

## ‚öôÔ∏è System Behavior

The system performs the following workflow:

1. **Repository Analysis**  
   The actual repository is recursively scanned, and its directory structure and file details are converted into a structured JSON format.

2. **Code Summarization** (via OpenAI LLM AI)  
   Each relevant code file is summarized using an AI model, extracting main purposes, structure, and function overviews.

3. **README Generation** (via OpenAI LLM AI)  
   A final README.md is generated by sending the structured JSON (including code summaries) to an AI agent, with a prompt that defines the required sections and professional formatting.

4. **Output**  
   The generated README.md file is saved in the project directory.

---
## How to Install and Use


#### üì• Download and Initial Configuration

Clone the repository using Git, and install the required packages:


```bash
git clone https://github.com/Gabriel-br2/code_documentation.git
pip install -r ~/Your_path/code_doc/requirements.txt
```

#### üõ†Ô∏è Configuration Structure

The project uses environment variables for configuration. Before running the generator, ensure the following variables are set in a .env file:

- `API_KEY` ‚Äì Your API key for the AI model.
- `MODEL` ‚Äì Your LLM model for openRouter here.
- `BASE_URL` ‚Äì Custom base URL for API request

Create a `.env` file in the project root with:

```env
API_KEY=your-api-key
MODEL=your-model-here
BASE_URL="https://openrouter.ai/api/v1"
```

##### üîß Configuring the linux environment 
So you can run the tool in any repository on your computer:

1. **Create a `.sh` file to run the Python script**:

```bash
nano code_documentation.sh
```

2. **Paste the following content**:

```bash
#!/bin/bash

# Absolute path to the Python script
PY_SCRIPT="$HOME/Your_path/code_documentation/main.py"
python3 "$PY_SCRIPT"
```

3. **Make the script executable**:

```bash
chmod +x code_documentation.sh
```

4. **Add the script to your `.bashrc`**
   This will allow you to run the script from any directory in the terminal:

```bash
nano ~/.bashrc
```

Add the following line at the end of the file:

```bash
source ~/Your_path/code_documentation.sh
```

5. **Reload your `.bashrc`** to apply changes:

```bash
source ~/.bashrc
```

#### **</>** Using the tool
Now you can execute the tool from any terminal session using:

```bash
code_documentation.sh
```


---

## üìÇ Code Structure

```
code_documentation/
‚îú‚îÄ‚îÄ agent.py              # Handles AI model API communication
‚îú‚îÄ‚îÄ generate_summary.py   # Summarizes code files using AI
‚îú‚îÄ‚îÄ main.py               # Main orchestration of README generation
‚îú‚îÄ‚îÄ requirements.txt      # Python dependencies
‚îî‚îÄ‚îÄ generate_JSON.py      # Utility to build repo structure (currently rate-limited)
```

- `main.py` is the core module managing the workflow of analysis and documentation.
- `generate_JSON.py` is intended to produce a structured JSON of the repository so that the end agent can read and create a README from the json information.

```json
{
   "name": "file name",
   "relative_path": "file relative path",
   "type": "is file or is directory",
   "extension": "file extension",
   "content": "file summary(if file)",
   "children": "Child files (if directory)" 
}
```

- `generate_summary.py` agent that creates structured summaries of Python files in Repository.
- `agent.py` provides a class to manage OpenAI-style API requests.

---

## üíª Prompt

Below is an example the main prompt to use the tool:

```python
"""
You are a specialist in technical documentation and embedded software engineering. Based on the source code and the complete structure of a Git repository (which will be provided in a json file), your task is to generate a README.md file in English, following professional documentation standards for embedded software and hardware projects.

   The README should contain, in separate and well-structured sections, the following topics:

   üìñ Project Description ‚Äî A clear and concise description of the project's purpose.
   ‚öôÔ∏è System Behavior ‚Äî A summary of how the system works, including main flows and interactions.
   üíª Software Interface ‚Äî An example of how software should be implemented by calling its classes and functions (only include if applicable, if not skip to the next topic).
   üìÇ Code Structure ‚Äî Organization of the files and modules in the repository.
   üîå Hardware Interface ‚Äî Components used and how the system interacts with the hardware (only include if applicable, if not skip to the next topic). 
   üìê Circuit Diagram ‚Äî Explanation of the circuit and its elements (only include if applicable, if not skip to the next topic).
   üõ†Ô∏è Configuration Structure ‚Äî How the system can be configured (e.g., presets, .ini files, constants, etc.).
   üìù Notes ‚Äî Important considerations for operation, maintenance, or system usage.
   ‚ùå Common Errors ‚Äî A list of common errors and their possible causes/solutions.
   üîñ Version ‚Äî Current version and version history, if applicable.
   üë• Team ‚Äî Authors, contributors, and their responsibilities.
   A motivational phrase related to the project's purpose or functionality.

   When writing the section titles and other highlights, enrich them with the use of emojis.
   Reply only with the readme and nothing else.
"""
```

---

## üìù Notes

This tool automatically ignores the following files and directories:

- Items listed in `.gitignore`
- Hidden files (those starting with `.`)
- Common Python boilerplate files (`__init__.py, __pycache__`)
- Documentation and license files (`LICENSE, README.md`)
- The `old` directory

The LLM-based summarization agent will only process files with the following extensions: `.py`, `.txt`, `.cpp`, `.c`, `.js`, `.html`.

If you need to support additional file types, you can easily add them by editing `line 85 in generate_JSON.py.`

---

## ‚ùå Common Errors

| Error | Cause | Solution |
|-------|-------|----------|
| `429 Rate Limited` | API quota exceeded or upstream rate-limiting | Retry after some time or use your own API key |
| `KeyError: API_KEY` | Missing environment variable | Set `API_KEY` in `.env` |
| `FileNotFoundError` | Missing required files in the repo | Ensure consistent file presence before running |

---

## üîñ Version

- **Current Version:** 1.0.0 (Initial Release)

---

## üë• Team

- **Gabriel Souza** ‚Äì Creator & Lead Developer    
- **Contributions** ‚Äì Collaborations are welcome! You can help by opening an issue to suggest improvements or submitting a pull request with enhancements, fixes, or new features. Your contributions help make the tool more robust and useful for the entire community.

---

> "Documentation is the silent enabler of collaboration and clarity in complex systems."
